(function(b){if((typeof jQuery==="undefined"||!jQuery)&&typeof define==="function"&&define.amd){define(["jquery"],function(a){return b(a,document,window,navigator)})}else{if((typeof jQuery==="undefined"||!jQuery)&&typeof exports==="object"){b(require("jquery"),document,window,navigator)}else{b(jQuery,document,window,navigator)}}}(function(w,q,u,p,z){var o=0;var v=(function(){var a=p.userAgent,b=/msie\s\d+/i,c;if(a.search(b)>0){c=b.exec(a).toString();c=c.split(" ")[1];if(c<9){w("html").addClass("lt-ie9");return true}}return false}());if(!Function.prototype.bind){Function.prototype.bind=function s(c){var b=this;var a=[].slice;if(typeof b!="function"){throw new TypeError()}var e=a.call(arguments,1),d=function(){if(this instanceof d){var f=function(){};f.prototype=b.prototype;var g=new f();var h=b.apply(g,e.concat(a.call(arguments)));if(Object(h)===h){return h}return g}else{return b.apply(c,e.concat(a.call(arguments)))}};return d}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(d,c){var e;if(this==null){throw new TypeError('"this" is null or not defined')}var b=Object(this);var f=b.length>>>0;if(f===0){return -1}var a=+c||0;if(Math.abs(a)===Infinity){a=0}if(a>=f){return -1}e=Math.max(a>=0?a:f-Math.abs(a),0);while(e<f){if(e in b&&b[e]===d){return e}e++}return -1}}var t='<span class="irs"><span class="irs-line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>';var n='<span class="irs-bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="irs-handle single"><i></i><i></i><i></i></span>';var y='<span class="irs-bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-handle from"><i></i><i></i><i></i></span><span class="irs-handle to"><i></i><i></i><i></i></span>';var x='<span class="irs-disable-mask"></span>';var r=function(h,f,e){this.VERSION="2.3.1";this.input=h;this.plugin_count=e;this.current_plugin=0;this.calc_count=0;this.update_tm=0;this.old_from=0;this.old_to=0;this.old_min_interval=null;this.raf_id=null;this.dragging=false;this.force_redraw=false;this.no_diapason=false;this.has_tab_index=true;this.is_key=false;this.is_update=false;this.is_start=true;this.is_finish=false;this.is_active=false;this.is_resize=false;this.is_click=false;f=f||{};this.$cache={win:w(u),body:w(q.body),input:w(h),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]};this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]};this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var c=this.$cache.input,b=c.prop("value"),g,d,a;g={skin:"flat",type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:false,values:[],p_values:[],from_fixed:false,from_min:null,from_max:null,from_shadow:false,to_fixed:false,to_min:null,to_max:null,to_shadow:false,prettify_enabled:true,prettify_separator:" ",prettify:null,force_edges:false,keyboard:true,grid:false,grid_margin:true,grid_num:4,grid_snap:false,hide_min_max:false,hide_from_to:false,prefix:"",postfix:"",max_postfix:"",decorate_both:true,values_separator:" â€” ",input_values_separator:";",disable:false,block:false,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null};if(c[0].nodeName!=="INPUT"){console&&console.warn&&console.warn("Base element should be <input>!",c[0])}d={skin:c.data("skin"),type:c.data("type"),min:c.data("min"),max:c.data("max"),from:c.data("from"),to:c.data("to"),step:c.data("step"),min_interval:c.data("minInterval"),max_interval:c.data("maxInterval"),drag_interval:c.data("dragInterval"),values:c.data("values"),from_fixed:c.data("fromFixed"),from_min:c.data("fromMin"),from_max:c.data("fromMax"),from_shadow:c.data("fromShadow"),to_fixed:c.data("toFixed"),to_min:c.data("toMin"),to_max:c.data("toMax"),to_shadow:c.data("toShadow"),prettify_enabled:c.data("prettifyEnabled"),prettify_separator:c.data("prettifySeparator"),force_edges:c.data("forceEdges"),keyboard:c.data("keyboard"),grid:c.data("grid"),grid_margin:c.data("gridMargin"),grid_num:c.data("gridNum"),grid_snap:c.data("gridSnap"),hide_min_max:c.data("hideMinMax"),hide_from_to:c.data("hideFromTo"),prefix:c.data("prefix"),postfix:c.data("postfix"),max_postfix:c.data("maxPostfix"),decorate_both:c.data("decorateBoth"),values_separator:c.data("valuesSeparator"),input_values_separator:c.data("inputValuesSeparator"),disable:c.data("disable"),block:c.data("block"),extra_classes:c.data("extraClasses")};d.values=d.values&&d.values.split(",");for(a in d){if(d.hasOwnProperty(a)){if(d[a]===z||d[a]===""){delete d[a]}}}if(b!==z&&b!==""){b=b.split(d.input_values_separator||f.input_values_separator||";");if(b[0]&&b[0]==+b[0]){b[0]=+b[0]}if(b[1]&&b[1]==+b[1]){b[1]=+b[1]}if(f&&f.values&&f.values.length){g.from=b[0]&&f.values.indexOf(b[0]);g.to=b[1]&&f.values.indexOf(b[1])}else{g.from=b[0]&&+b[0];g.to=b[1]&&+b[1]}}w.extend(g,f);w.extend(g,d);this.options=g;this.update_check={};this.validate();this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null};this.init()};r.prototype={init:function(a){this.no_diapason=false;this.coords.p_step=this.convertToPercent(this.options.step,true);this.target="base";this.toggleInput();this.append();this.setMinMax();if(a){this.force_redraw=true;this.calc(true);this.callOnUpdate()}else{this.force_redraw=true;this.calc(true);this.callOnStart()}this.updateScene()},append:function(){var a='<span class="irs irs--'+this.options.skin+" js-irs-"+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(a);this.$cache.input.prop("readonly",true);this.$cache.cont=this.$cache.input.prev();this.result.slider=this.$cache.cont;this.$cache.cont.html(t);this.$cache.rs=this.$cache.cont.find(".irs");this.$cache.min=this.$cache.cont.find(".irs-min");this.$cache.max=this.$cache.cont.find(".irs-max");this.$cache.from=this.$cache.cont.find(".irs-from");this.$cache.to=this.$cache.cont.find(".irs-to");this.$cache.single=this.$cache.cont.find(".irs-single");this.$cache.line=this.$cache.cont.find(".irs-line");this.$cache.grid=this.$cache.cont.find(".irs-grid");if(this.options.type==="single"){this.$cache.cont.append(n);this.$cache.bar=this.$cache.cont.find(".irs-bar");this.$cache.edge=this.$cache.cont.find(".irs-bar-edge");this.$cache.s_single=this.$cache.cont.find(".single");this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.shad_single=this.$cache.cont.find(".shadow-single")}else{this.$cache.cont.append(y);this.$cache.bar=this.$cache.cont.find(".irs-bar");this.$cache.s_from=this.$cache.cont.find(".from");this.$cache.s_to=this.$cache.cont.find(".to");this.$cache.shad_from=this.$cache.cont.find(".shadow-from");this.$cache.shad_to=this.$cache.cont.find(".shadow-to");this.setTopHandler()}if(this.options.hide_from_to){this.$cache.from[0].style.display="none";this.$cache.to[0].style.display="none";this.$cache.single[0].style.display="none"}this.appendGrid();if(this.options.disable){this.appendDisableMask();this.$cache.input[0].disabled=true}else{this.$cache.input[0].disabled=false;this.removeDisableMask();this.bindEvents()}if(!this.options.disable){if(this.options.block){this.appendDisableMask()}else{this.removeDisableMask()}}if(this.options.drag_interval){this.$cache.bar[0].style.cursor="ew-resize"}},setTopHandler:function(){var c=this.options.min,d=this.options.max,a=this.options.from,b=this.options.to;if(a>c&&b===d){this.$cache.s_from.addClass("type_last")}else{if(b<d){this.$cache.s_to.addClass("type_last")}}},changeLevel:function(a){switch(a){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake);this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake);this.$cache.s_from.addClass("state_hover");this.$cache.s_from.addClass("type_last");this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake);this.$cache.s_to.addClass("state_hover");this.$cache.s_to.addClass("type_last");this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake);this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer);this.$cache.s_to.removeClass("type_last");this.$cache.s_from.removeClass("type_last");break}},appendDisableMask:function(){this.$cache.cont.append(x);this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask");this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove();this.$cache.cont=null;this.$cache.line.off("keydown.irs_"+this.plugin_count);this.$cache.body.off("touchmove.irs_"+this.plugin_count);this.$cache.body.off("mousemove.irs_"+this.plugin_count);this.$cache.win.off("touchend.irs_"+this.plugin_count);this.$cache.win.off("mouseup.irs_"+this.plugin_count);if(v){this.$cache.body.off("mouseup.irs_"+this.plugin_count);this.$cache.body.off("mouseleave.irs_"+this.plugin_count)}this.$cache.grid_labels=[];this.coords.big=[];this.coords.big_w=[];this.coords.big_p=[];this.coords.big_x=[];cancelAnimationFrame(this.raf_id)},bindEvents:function(){if(this.no_diapason){return}this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this));if(this.options.drag_interval&&this.options.type==="double"){this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"));this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))}else{this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}if(this.options.type==="single"){this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}else{this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null));this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null));this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}if(this.options.keyboard){this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard"))}if(v){this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))}},pointerFocus:function(b){if(!this.target){var c;var a;if(this.options.type==="single"){a=this.$cache.single}else{a=this.$cache.from}c=a.offset().left;c+=(a.width()/2)-1;this.pointerClick("single",{preventDefault:function(){},pageX:c})}},pointerMove:function(a){if(!this.dragging){return}var b=a.pageX||a.originalEvent.touches&&a.originalEvent.touches[0].pageX;this.coords.x_pointer=b-this.coords.x_gap;this.calc()},pointerUp:function(a){if(this.current_plugin!==this.plugin_count){return}if(this.is_active){this.is_active=false}else{return}this.$cache.cont.find(".state_hover").removeClass("state_hover");this.force_redraw=true;if(v){w("*").prop("unselectable",false)}this.updateScene();this.restoreOriginalMinInterval();if(w.contains(this.$cache.cont[0],a.target)||this.dragging){this.callOnFinish()}this.dragging=false},pointerDown:function(a,b){b.preventDefault();var c=b.pageX||b.originalEvent.touches&&b.originalEvent.touches[0].pageX;if(b.button===2){return}if(a==="both"){this.setTempMinInterval()}if(!a){a=this.target||"from"}this.current_plugin=this.plugin_count;this.target=a;this.is_active=true;this.dragging=true;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=c-this.coords.x_gap;this.calcPointerPercent();this.changeLevel(a);if(v){w("*").prop("unselectable",true)}this.$cache.line.trigger("focus");this.updateScene()},pointerClick:function(a,b){b.preventDefault();var c=b.pageX||b.originalEvent.touches&&b.originalEvent.touches[0].pageX;if(b.button===2){return}this.current_plugin=this.plugin_count;this.target=a;this.is_click=true;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=+(c-this.coords.x_gap).toFixed();this.force_redraw=true;this.calc();this.$cache.line.trigger("focus")},key:function(a,b){if(this.current_plugin!==this.plugin_count||b.altKey||b.ctrlKey||b.shiftKey||b.metaKey){return}switch(b.which){case 83:case 65:case 40:case 37:b.preventDefault();this.moveByKey(false);break;case 87:case 68:case 38:case 39:b.preventDefault();this.moveByKey(true);break}return true},moveByKey:function(b){var a=this.coords.p_pointer;var c=(this.options.max-this.options.min)/100;c=this.options.step/c;if(b){a+=c}else{a-=c}this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*a);this.is_key=true;this.calc()},setMinMax:function(){if(!this.options){return}if(this.options.hide_min_max){this.$cache.min[0].style.display="none";this.$cache.max[0].style.display="none";return}if(this.options.values.length){this.$cache.min.html(this.decorate(this.options.p_values[this.options.min]));this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))}else{var b=this._prettify(this.options.min);var a=this._prettify(this.options.max);this.result.min_pretty=b;this.result.max_pretty=a;this.$cache.min.html(this.decorate(b,this.options.min));this.$cache.max.html(this.decorate(a,this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(false);this.labels.w_max=this.$cache.max.outerWidth(false)},setTempMinInterval:function(){var a=this.result.to-this.result.from;if(this.old_min_interval===null){this.old_min_interval=this.options.min_interval}this.options.min_interval=a},restoreOriginalMinInterval:function(){if(this.old_min_interval!==null){this.options.min_interval=this.old_min_interval;this.old_min_interval=null}},calc:function(b){if(!this.options){return}this.calc_count++;if(this.calc_count===10||b){this.calc_count=0;this.coords.w_rs=this.$cache.rs.outerWidth(false);this.calcHandlePercent()}if(!this.coords.w_rs){return}this.calcPointerPercent();var k=this.getHandleX();if(this.target==="both"){this.coords.p_gap=0;k=this.getHandleX()}if(this.target==="click"){this.coords.p_gap=this.coords.p_handle/2;k=this.getHandleX();if(this.options.drag_interval){this.target="both_one"}else{this.target=this.chooseHandle(k)}}switch(this.target){case"base":var h=(this.options.max-this.options.min)/100,l=(this.result.from-this.options.min)/h,e=(this.result.to-this.options.min)/h;this.coords.p_single_real=this.toFixed(l);this.coords.p_from_real=this.toFixed(l);this.coords.p_to_real=this.toFixed(e);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);this.target=null;break;case"single":if(this.options.from_fixed){break}this.coords.p_single_real=this.convertToRealPercent(k);this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed){break}this.coords.p_from_real=this.convertToRealPercent(k);this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);if(this.coords.p_from_real>this.coords.p_to_real){this.coords.p_from_real=this.coords.p_to_real}this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed){break}this.coords.p_to_real=this.convertToRealPercent(k);this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real);if(this.coords.p_to_real<this.coords.p_from_real){this.coords.p_to_real=this.coords.p_from_real}this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed){break}k=this.toFixed(k+(this.coords.p_handle*0.001));this.coords.p_from_real=this.convertToRealPercent(k)-this.coords.p_gap_left;this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_real=this.convertToRealPercent(k)+this.coords.p_gap_right;this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed){break}var d=this.convertToRealPercent(k),j=this.result.from_percent,i=this.result.to_percent,a=i-j,g=a/2,f=d-g,c=d+g;if(f<0){f=0;c=f+a}if(c>100){c=100;f=c-a}this.coords.p_from_real=this.calcWithStep(f);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_real=this.calcWithStep(c);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break}if(this.options.type==="single"){this.coords.p_bar_x=(this.coords.p_handle/2);this.coords.p_bar_w=this.coords.p_single_fake;this.result.from_percent=this.coords.p_single_real;this.result.from=this.convertToValue(this.coords.p_single_real);this.result.from_pretty=this._prettify(this.result.from);if(this.options.values.length){this.result.from_value=this.options.values[this.result.from]}}else{this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+(this.coords.p_handle/2));this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake);this.result.from_percent=this.coords.p_from_real;this.result.from=this.convertToValue(this.coords.p_from_real);this.result.from_pretty=this._prettify(this.result.from);this.result.to_percent=this.coords.p_to_real;this.result.to=this.convertToValue(this.coords.p_to_real);this.result.to_pretty=this._prettify(this.result.to);if(this.options.values.length){this.result.from_value=this.options.values[this.result.from];this.result.to_value=this.options.values[this.result.to]}}this.calcMinMax();this.calcLabels()},calcPointerPercent:function(){if(!this.coords.w_rs){this.coords.p_pointer=0;return}if(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)){this.coords.x_pointer=0}else{if(this.coords.x_pointer>this.coords.w_rs){this.coords.x_pointer=this.coords.w_rs}}this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)},convertToRealPercent:function(b){var a=100-this.coords.p_handle;return b/a*100},convertToFakePercent:function(a){var b=100-this.coords.p_handle;return a/100*b},getHandleX:function(){var a=100-this.coords.p_handle,b=this.toFixed(this.coords.p_pointer-this.coords.p_gap);if(b<0){b=0}else{if(b>a){b=a}}return b},calcHandlePercent:function(){if(this.options.type==="single"){this.coords.w_handle=this.$cache.s_single.outerWidth(false)}else{this.coords.w_handle=this.$cache.s_from.outerWidth(false)}this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(b){if(this.options.type==="single"){return"single"}else{var a=this.coords.p_from_real+((this.coords.p_to_real-this.coords.p_from_real)/2);if(b>=a){return this.options.to_fixed?"from":"to"}else{return this.options.from_fixed?"to":"from"}}},calcMinMax:function(){if(!this.coords.w_rs){return}this.labels.p_min=this.labels.w_min/this.coords.w_rs*100;this.labels.p_max=this.labels.w_max/this.coords.w_rs*100},calcLabels:function(){if(!this.coords.w_rs||this.options.hide_from_to){return}if(this.options.type==="single"){this.labels.w_single=this.$cache.single.outerWidth(false);this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100;this.labels.p_single_left=this.coords.p_single_fake+(this.coords.p_handle/2)-(this.labels.p_single_fake/2);this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)}else{this.labels.w_from=this.$cache.from.outerWidth(false);this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100;this.labels.p_from_left=this.coords.p_from_fake+(this.coords.p_handle/2)-(this.labels.p_from_fake/2);this.labels.p_from_left=this.toFixed(this.labels.p_from_left);this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake);this.labels.w_to=this.$cache.to.outerWidth(false);this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100;this.labels.p_to_left=this.coords.p_to_fake+(this.coords.p_handle/2)-(this.labels.p_to_fake/2);this.labels.p_to_left=this.toFixed(this.labels.p_to_left);this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake);this.labels.w_single=this.$cache.single.outerWidth(false);this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100;this.labels.p_single_left=((this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2)-(this.labels.p_single_fake/2);this.labels.p_single_left=this.toFixed(this.labels.p_single_left);this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)}},updateScene:function(){if(this.raf_id){cancelAnimationFrame(this.raf_id);this.raf_id=null}clearTimeout(this.update_tm);this.update_tm=null;if(!this.options){return}this.drawHandles();if(this.is_active){this.raf_id=requestAnimationFrame(this.updateScene.bind(this))}else{this.update_tm=setTimeout(this.updateScene.bind(this),300)}},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(false);if(!this.coords.w_rs){return}if(this.coords.w_rs!==this.coords.w_rs_old){this.target="base";this.is_resize=true}if(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw){this.setMinMax();this.calc(true);this.drawLabels();if(this.options.grid){this.calcGridMargin();this.calcGridLabels()}this.force_redraw=true;this.coords.w_rs_old=this.coords.w_rs;this.drawShadow()}if(!this.coords.w_rs){return}if(!this.dragging&&!this.force_redraw&&!this.is_key){return}if(this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key){this.drawLabels();this.$cache.bar[0].style.left=this.coords.p_bar_x+"%";this.$cache.bar[0].style.width=this.coords.p_bar_w+"%";if(this.options.type==="single"){this.$cache.bar[0].style.left=0;this.$cache.bar[0].style.width=this.coords.p_bar_w+this.coords.p_bar_x+"%";this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%";this.$cache.single[0].style.left=this.labels.p_single_left+"%"}else{this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%";this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%";if(this.old_from!==this.result.from||this.force_redraw){this.$cache.from[0].style.left=this.labels.p_from_left+"%"}if(this.old_to!==this.result.to||this.force_redraw){this.$cache.to[0].style.left=this.labels.p_to_left+"%"}this.$cache.single[0].style.left=this.labels.p_single_left+"%"}this.writeToInput();if((this.old_from!==this.result.from||this.old_to!==this.result.to)&&!this.is_start){this.$cache.input.trigger("change");this.$cache.input.trigger("input")}this.old_from=this.result.from;this.old_to=this.result.to;if(!this.is_resize&&!this.is_update&&!this.is_start&&!this.is_finish){this.callOnChange()}if(this.is_key||this.is_click){this.is_key=false;this.is_click=false;this.callOnFinish()}this.is_update=false;this.is_resize=false;this.is_finish=false}this.is_start=false;this.is_key=false;this.is_click=false;this.force_redraw=false},drawLabels:function(){if(!this.options){return}var e=this.options.values.length;var d=this.options.p_values;var k;var c;var i;var g;var a;if(this.options.hide_from_to){return}if(this.options.type==="single"){if(e){k=this.decorate(d[this.result.from]);this.$cache.single.html(k)}else{g=this._prettify(this.result.from);k=this.decorate(g,this.result.from);this.$cache.single.html(k)}this.calcLabels();if(this.labels.p_single_left<this.labels.p_min+1){this.$cache.min[0].style.visibility="hidden"}else{this.$cache.min[0].style.visibility="visible"}if(this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1){this.$cache.max[0].style.visibility="hidden"}else{this.$cache.max[0].style.visibility="visible"}}else{if(e){if(this.options.decorate_both){k=this.decorate(d[this.result.from]);k+=this.options.values_separator;k+=this.decorate(d[this.result.to])}else{k=this.decorate(d[this.result.from]+this.options.values_separator+d[this.result.to])}c=this.decorate(d[this.result.from]);i=this.decorate(d[this.result.to]);this.$cache.single.html(k);this.$cache.from.html(c);this.$cache.to.html(i)}else{g=this._prettify(this.result.from);a=this._prettify(this.result.to);if(this.options.decorate_both){k=this.decorate(g,this.result.from);k+=this.options.values_separator;k+=this.decorate(a,this.result.to)}else{k=this.decorate(g+this.options.values_separator+a,this.result.to)}c=this.decorate(g,this.result.from);i=this.decorate(a,this.result.to);this.$cache.single.html(k);this.$cache.from.html(c);this.$cache.to.html(i)}this.calcLabels();var b=Math.min(this.labels.p_single_left,this.labels.p_from_left),h=this.labels.p_single_left+this.labels.p_single_fake,f=this.labels.p_to_left+this.labels.p_to_fake,j=Math.max(h,f);if(this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left){this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.single[0].style.visibility="visible";if(this.result.from===this.result.to){if(this.target==="from"){this.$cache.from[0].style.visibility="visible"}else{if(this.target==="to"){this.$cache.to[0].style.visibility="visible"}else{if(!this.target){this.$cache.from[0].style.visibility="visible"}}}this.$cache.single[0].style.visibility="hidden";j=f}else{this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.single[0].style.visibility="visible";j=Math.max(h,f)}}else{this.$cache.from[0].style.visibility="visible";this.$cache.to[0].style.visibility="visible";this.$cache.single[0].style.visibility="hidden"}if(b<this.labels.p_min+1){this.$cache.min[0].style.visibility="hidden"}else{this.$cache.min[0].style.visibility="visible"}if(j>100-this.labels.p_max-1){this.$cache.max[0].style.visibility="hidden"}else{this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var a=this.options,i=this.$cache,h=typeof a.from_min==="number"&&!isNaN(a.from_min),d=typeof a.from_max==="number"&&!isNaN(a.from_max),f=typeof a.to_min==="number"&&!isNaN(a.to_min),b=typeof a.to_max==="number"&&!isNaN(a.to_max),g,c,j,e;if(a.type==="single"){if(a.from_shadow&&(h||d)){g=this.convertToPercent(h?a.from_min:a.min);c=this.convertToPercent(d?a.from_max:a.max)-g;g=this.toFixed(g-(this.coords.p_handle/100*g));c=this.toFixed(c-(this.coords.p_handle/100*c));g=g+(this.coords.p_handle/2);i.shad_single[0].style.display="block";i.shad_single[0].style.left=g+"%";i.shad_single[0].style.width=c+"%"}else{i.shad_single[0].style.display="none"}}else{if(a.from_shadow&&(h||d)){g=this.convertToPercent(h?a.from_min:a.min);c=this.convertToPercent(d?a.from_max:a.max)-g;g=this.toFixed(g-(this.coords.p_handle/100*g));c=this.toFixed(c-(this.coords.p_handle/100*c));g=g+(this.coords.p_handle/2);i.shad_from[0].style.display="block";i.shad_from[0].style.left=g+"%";i.shad_from[0].style.width=c+"%"}else{i.shad_from[0].style.display="none"}if(a.to_shadow&&(f||b)){j=this.convertToPercent(f?a.to_min:a.min);e=this.convertToPercent(b?a.to_max:a.max)-j;j=this.toFixed(j-(this.coords.p_handle/100*j));e=this.toFixed(e-(this.coords.p_handle/100*e));j=j+(this.coords.p_handle/2);i.shad_to[0].style.display="block";i.shad_to[0].style.left=j+"%";i.shad_to[0].style.width=e+"%"}else{i.shad_to[0].style.display="none"}}},writeToInput:function(){if(this.options.type==="single"){if(this.options.values.length){this.$cache.input.prop("value",this.result.from_value)}else{this.$cache.input.prop("value",this.result.from)}this.$cache.input.data("from",this.result.from)}else{if(this.options.values.length){this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value)}else{this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to)}this.$cache.input.data("from",this.result.from);this.$cache.input.data("to",this.result.to)}},callOnStart:function(){this.writeToInput();if(this.options.onStart&&typeof this.options.onStart==="function"){if(this.options.scope){this.options.onStart.call(this.options.scope,this.result)}else{this.options.onStart(this.result)}}},callOnChange:function(){this.writeToInput();if(this.options.onChange&&typeof this.options.onChange==="function"){if(this.options.scope){this.options.onChange.call(this.options.scope,this.result)}else{this.options.onChange(this.result)}}},callOnFinish:function(){this.writeToInput();if(this.options.onFinish&&typeof this.options.onFinish==="function"){if(this.options.scope){this.options.onFinish.call(this.options.scope,this.result)}else{this.options.onFinish(this.result)}}},callOnUpdate:function(){this.writeToInput();if(this.options.onUpdate&&typeof this.options.onUpdate==="function"){if(this.options.scope){this.options.onUpdate.call(this.options.scope,this.result)}else{this.options.onUpdate(this.result)}}},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input");if(this.has_tab_index){this.$cache.input.prop("tabindex",-1)}else{this.$cache.input.removeProp("tabindex")}this.has_tab_index=!this.has_tab_index},convertToPercent:function(d,f){var b=this.options.max-this.options.min,c=b/100,a,e;if(!b){this.no_diapason=true;return 0}if(f){a=d}else{a=d-this.options.min}e=a/c;return this.toFixed(e)},convertToValue:function(k){var b=this.options.min,i=this.options.max,c=b.toString().split(".")[1],j=i.toString().split(".")[1],e,h,a=0,f=0;if(k===0){return this.options.min}if(k===100){return this.options.max}if(c){e=c.length;a=e}if(j){h=j.length;a=h}if(e&&h){a=(e>=h)?e:h}if(b<0){f=Math.abs(b);b=+(b+f).toFixed(a);i=+(i+f).toFixed(a)}var d=((i-b)/100*k)+b,l=this.options.step.toString().split(".")[1],g;if(l){d=+d.toFixed(l.length)}else{d=d/this.options.step;d=d*this.options.step;d=+d.toFixed(0)}if(f){d-=f}if(l){g=+d.toFixed(l.length)}else{g=this.toFixed(d)}if(g<this.options.min){g=this.options.min}else{if(g>this.options.max){g=this.options.max}}return g},calcWithStep:function(a){var b=Math.round(a/this.coords.p_step)*this.coords.p_step;if(b>100){b=100}if(a===100){b=100}return this.toFixed(b)},checkMinInterval:function(c,f,d){var a=this.options,b,e;if(!a.min_interval){return c}b=this.convertToValue(c);e=this.convertToValue(f);if(d==="from"){if(e-b<a.min_interval){b=e-a.min_interval}}else{if(b-e<a.min_interval){b=e+a.min_interval}}return this.convertToPercent(b)},checkMaxInterval:function(c,f,d){var a=this.options,b,e;if(!a.max_interval){return c}b=this.convertToValue(c);e=this.convertToValue(f);if(d==="from"){if(e-b>a.max_interval){b=e-a.max_interval}}else{if(b-e>a.max_interval){b=e+a.max_interval}}return this.convertToPercent(b)},checkDiapason:function(b,c,e){var d=this.convertToValue(b),a=this.options;if(typeof c!=="number"){c=a.min}if(typeof e!=="number"){e=a.max}if(d<c){d=c}if(d>e){d=e}return this.convertToPercent(d)},toFixed:function(a){a=a.toFixed(20);return +a},_prettify:function(a){if(!this.options.prettify_enabled){return a}if(this.options.prettify&&typeof this.options.prettify==="function"){return this.options.prettify(a)}else{return this.prettify(a)}},prettify:function(b){var a=b.toString();return a.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(a,b){if(!this.options.force_edges){return this.toFixed(a)}if(a<0){a=0}else{if(a>100-b){a=100-b}}return this.toFixed(a)},validate:function(){var a=this.options,c=this.result,f=a.values,d=f.length,b,e;if(typeof a.min==="string"){a.min=+a.min}if(typeof a.max==="string"){a.max=+a.max}if(typeof a.from==="string"){a.from=+a.from}if(typeof a.to==="string"){a.to=+a.to}if(typeof a.step==="string"){a.step=+a.step}if(typeof a.from_min==="string"){a.from_min=+a.from_min}if(typeof a.from_max==="string"){a.from_max=+a.from_max}if(typeof a.to_min==="string"){a.to_min=+a.to_min}if(typeof a.to_max==="string"){a.to_max=+a.to_max}if(typeof a.grid_num==="string"){a.grid_num=+a.grid_num}if(a.max<a.min){a.max=a.min}if(d){a.p_values=[];a.min=0;a.max=d-1;a.step=1;a.grid_num=a.max;a.grid_snap=true;for(e=0;e<d;e++){b=+f[e];if(!isNaN(b)){f[e]=b;b=this._prettify(b)}else{b=f[e]}a.p_values.push(b)}}if(typeof a.from!=="number"||isNaN(a.from)){a.from=a.min}if(typeof a.to!=="number"||isNaN(a.to)){a.to=a.max}if(a.type==="single"){if(a.from<a.min){a.from=a.min}if(a.from>a.max){a.from=a.max}}else{if(a.from<a.min){a.from=a.min}if(a.from>a.max){a.from=a.max}if(a.to<a.min){a.to=a.min}if(a.to>a.max){a.to=a.max}if(this.update_check.from){if(this.update_check.from!==a.from){if(a.from>a.to){a.from=a.to}}if(this.update_check.to!==a.to){if(a.to<a.from){a.to=a.from}}}if(a.from>a.to){a.from=a.to}if(a.to<a.from){a.to=a.from}}if(typeof a.step!=="number"||isNaN(a.step)||!a.step||a.step<0){a.step=1}if(typeof a.from_min==="number"&&a.from<a.from_min){a.from=a.from_min}if(typeof a.from_max==="number"&&a.from>a.from_max){a.from=a.from_max}if(typeof a.to_min==="number"&&a.to<a.to_min){a.to=a.to_min}if(typeof a.to_max==="number"&&a.from>a.to_max){a.to=a.to_max}if(c){if(c.min!==a.min){c.min=a.min}if(c.max!==a.max){c.max=a.max}if(c.from<c.min||c.from>c.max){c.from=a.from}if(c.to<c.min||c.to>c.max){c.to=a.to}}if(typeof a.min_interval!=="number"||isNaN(a.min_interval)||!a.min_interval||a.min_interval<0){a.min_interval=0}if(typeof a.max_interval!=="number"||isNaN(a.max_interval)||!a.max_interval||a.max_interval<0){a.max_interval=0}if(a.min_interval&&a.min_interval>a.max-a.min){a.min_interval=a.max-a.min}if(a.max_interval&&a.max_interval>a.max-a.min){a.max_interval=a.max-a.min}},decorate:function(d,c){var b="",a=this.options;if(a.prefix){b+=a.prefix}b+=d;if(a.max_postfix){if(a.values.length&&d===a.p_values[a.max]){b+=a.max_postfix;if(a.postfix){b+=" "}}else{if(c===a.max){b+=a.max_postfix;if(a.postfix){b+=" "}}}}if(a.postfix){b+=a.postfix}return b},updateFrom:function(){this.result.from=this.options.from;this.result.from_percent=this.convertToPercent(this.result.from);this.result.from_pretty=this._prettify(this.result.from);if(this.options.values){this.result.from_value=this.options.values[this.result.from]}},updateTo:function(){this.result.to=this.options.to;this.result.to_percent=this.convertToPercent(this.result.to);this.result.to_pretty=this._prettify(this.result.to);if(this.options.values){this.result.to_value=this.options.values[this.result.to]}},updateResult:function(){this.result.min=this.options.min;this.result.max=this.options.max;this.updateFrom();this.updateTo()},appendGrid:function(){if(!this.options.grid){return}var f=this.options,b,i,h=f.max-f.min,c=f.grid_num,l=0,d=0,m=4,j,g,k=0,e,a="";this.calcGridMargin();if(f.grid_snap){c=h/f.step}if(c>50){c=50}l=this.toFixed(100/c);if(c>4){m=3}if(c>7){m=2}if(c>14){m=1}if(c>28){m=0}for(b=0;b<c+1;b++){j=m;d=this.toFixed(l*b);if(d>100){d=100}this.coords.big[b]=d;g=(d-(l*(b-1)))/(j+1);for(i=1;i<=j;i++){if(d===0){break}k=this.toFixed(d-(g*i));a+='<span class="irs-grid-pol small" style="left: '+k+'%"></span>'}a+='<span class="irs-grid-pol" style="left: '+d+'%"></span>';e=this.convertToValue(d);if(f.values.length){e=f.p_values[e]}else{e=this._prettify(e)}a+='<span class="irs-grid-text js-grid-text-'+b+'" style="left: '+d+'%">'+e+"</span>"}this.coords.big_num=Math.ceil(c+1);this.$cache.cont.addClass("irs-with-grid");this.$cache.grid.html(a);this.cacheGridLabels()},cacheGridLabels:function(){var c,a,b=this.coords.big_num;for(a=0;a<b;a++){c=this.$cache.grid.find(".js-grid-text-"+a);this.$cache.grid_labels.push(c)}this.calcGridLabels()},calcGridLabels:function(){var b,d,a=[],c=[],e=this.coords.big_num;for(b=0;b<e;b++){this.coords.big_w[b]=this.$cache.grid_labels[b].outerWidth(false);this.coords.big_p[b]=this.toFixed(this.coords.big_w[b]/this.coords.w_rs*100);this.coords.big_x[b]=this.toFixed(this.coords.big_p[b]/2);a[b]=this.toFixed(this.coords.big[b]-this.coords.big_x[b]);c[b]=this.toFixed(a[b]+this.coords.big_p[b])}if(this.options.force_edges){if(a[0]<-this.coords.grid_gap){a[0]=-this.coords.grid_gap;c[0]=this.toFixed(a[0]+this.coords.big_p[0]);this.coords.big_x[0]=this.coords.grid_gap}if(c[e-1]>100+this.coords.grid_gap){c[e-1]=100+this.coords.grid_gap;a[e-1]=this.toFixed(c[e-1]-this.coords.big_p[e-1]);this.coords.big_x[e-1]=this.toFixed(this.coords.big_p[e-1]-this.coords.grid_gap)}}this.calcGridCollision(2,a,c);this.calcGridCollision(4,a,c);for(b=0;b<e;b++){d=this.$cache.grid_labels[b][0];if(this.coords.big_x[b]!==Number.POSITIVE_INFINITY){d.style.marginLeft=-this.coords.big_x[b]+"%"}}},calcGridCollision:function(b,a,c){var d,g,e,f=this.coords.big_num;for(d=0;d<f;d+=b){g=d+(b/2);if(g>=f){break}e=this.$cache.grid_labels[g][0];if(c[d]<=a[g]){e.style.visibility="visible"}else{e.style.visibility="hidden"}}},calcGridMargin:function(){if(!this.options.grid_margin){return}this.coords.w_rs=this.$cache.rs.outerWidth(false);if(!this.coords.w_rs){return}if(this.options.type==="single"){this.coords.w_handle=this.$cache.s_single.outerWidth(false)}else{this.coords.w_handle=this.$cache.s_from.outerWidth(false)}this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100);this.coords.grid_gap=this.toFixed((this.coords.p_handle/2)-0.1);this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%";this.$cache.grid[0].style.left=this.coords.grid_gap+"%"},update:function(a){if(!this.input){return}this.is_update=true;this.options.from=this.result.from;this.options.to=this.result.to;this.update_check.from=this.result.from;this.update_check.to=this.result.to;this.options=w.extend(this.options,a);this.validate();this.updateResult(a);this.toggleInput();this.remove();this.init(true)},reset:function(){if(!this.input){return}this.updateResult();this.update()},destroy:function(){if(!this.input){return}this.toggleInput();this.$cache.input.prop("readonly",false);w.data(this.input,"ionRangeSlider",null);this.remove();this.input=null;this.options=null}};w.fn.ionRangeSlider=function(a){return this.each(function(){if(!w.data(this,"ionRangeSlider")){w.data(this,"ionRangeSlider",new r(this,a,o++))}})};(function(){var b=0;var a=["ms","moz","webkit","o"];for(var c=0;c<a.length&&!u.requestAnimationFrame;++c){u.requestAnimationFrame=u[a[c]+"RequestAnimationFrame"];u.cancelAnimationFrame=u[a[c]+"CancelAnimationFrame"]||u[a[c]+"CancelRequestAnimationFrame"]}if(!u.requestAnimationFrame){u.requestAnimationFrame=function(d,g){var h=new Date().getTime();var f=Math.max(0,16-(h-b));var e=u.setTimeout(function(){d(h+f)},f);b=h+f;return e}}if(!u.cancelAnimationFrame){u.cancelAnimationFrame=function(d){clearTimeout(d)}}}())}));