(function(b,a){"function"===typeof define&&define.amd?define([],a):"object"===typeof module&&module.exports?module.exports=a():b.Rellax=a()})("undefined"!==typeof window?window:global,function(){var a=function(S,s){function z(){if(3===V.options.breakpoints.length&&Array.isArray(V.options.breakpoints)){var g=!0,h=!0,d;V.options.breakpoints.forEach(function(f){"number"!==typeof f&&(h=!1);null!==d&&f<d&&(g=!1);d=f});if(g&&h){return}}V.options.breakpoints=[576,768,1201];console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}var V=Object.create(a.prototype),P=0,q=0,O=0,N=0,U=[],j=!0,L=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(d){return setTimeout(d,1000/60)},M=null,e=!1;try{var Q=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,Q);window.removeEventListener("testPassive",null,Q)}catch(T){}var y=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,t=window.transformProp||function(){var f=document.createElement("div");if(null===f.style.transform){var g=["Webkit","Moz","ms"],d;for(d in g){if(void 0!==f.style[g[d]+"Transform"]){return g[d]+"Transform"}}}return"transform"}();V.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1201],center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}};s&&Object.keys(s).forEach(function(f){V.options[f]=s[f]});s&&s.breakpoints&&z();S||(S=".rellax");Q="string"===typeof S?document.querySelectorAll(S):[S];if(0<Q.length){V.elems=Q;if(V.options.wrapper&&!V.options.wrapper.nodeType){if(Q=document.querySelector(V.options.wrapper)){V.options.wrapper=Q}else{console.warn("Rellax: The wrapper you're trying to use doesn't exist.");return}}var r,I=function(){for(var af=0;af<U.length;af++){V.elems[af].style.cssText=U[af].style}U=[];q=window.innerHeight;N=window.innerWidth;af=V.options.breakpoints;r=N<af[0]?"xs":N>=af[0]&&N<af[1]?"sm":N>=af[1]&&N<af[2]?"md":"lg";i();for(af=0;af<V.elems.length;af++){var ah=void 0,ai=V.elems[af],ag=ai.getAttribute("data-rellax-percentage"),v=ai.getAttribute("data-rellax-speed"),H=ai.getAttribute("data-rellax-xs-speed"),ae=ai.getAttribute("data-rellax-mobile-speed"),ad=ai.getAttribute("data-rellax-tablet-speed"),ac=ai.getAttribute("data-rellax-desktop-speed"),ab=ai.getAttribute("data-rellax-vertical-speed"),aa=ai.getAttribute("data-rellax-horizontal-speed"),Z=ai.getAttribute("data-rellax-vertical-scroll-axis"),X=ai.getAttribute("data-rellax-horizontal-scroll-axis"),F=ai.getAttribute("data-rellax-zindex")||0,B=ai.getAttribute("data-rellax-min"),Y=ai.getAttribute("data-rellax-max"),W=ai.getAttribute("data-rellax-min-x"),J=ai.getAttribute("data-rellax-max-x"),G=ai.getAttribute("data-rellax-min-y"),d=ai.getAttribute("data-rellax-max-y"),K=!0;H||ae||ad||ac?ah={xs:H,sm:ae,md:ad,lg:ac}:K=!1;H=V.options.wrapper?V.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;V.options.relativeToWrapper&&(H=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-V.options.wrapper.offsetTop);var n=V.options.vertical?ag||V.options.center?H:0:0,w=V.options.horizontal?ag||V.options.center?V.options.wrapper?V.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0:0;H=n+ai.getBoundingClientRect().top;ae=ai.clientHeight||ai.offsetHeight||ai.scrollHeight;ad=w+ai.getBoundingClientRect().left;ac=ai.clientWidth||ai.offsetWidth||ai.scrollWidth;n=ag?ag:(n-H+q)/(ae+q);ag=ag?ag:(w-ad+N)/(ac+N);V.options.center&&(n=ag=0.5);ah=K&&null!==ah[r]?Number(ah[r]):v?v:V.options.speed;ab=ab?ab:V.options.verticalSpeed;aa=aa?aa:V.options.horizontalSpeed;Z=Z?Z:V.options.verticalScrollAxis;X=X?X:V.options.horizontalScrollAxis;v=c(ag,n,ah,ab,aa);ai=ai.style.cssText;K="";if(ag=/transform\s*:/i.exec(ai)){K=ai.slice(ag.index),K=(ag=K.indexOf(";"))?" "+K.slice(11,ag).replace(/\s/g,""):" "+K.slice(11).replace(/\s/g,"")}U.push({baseX:v.x,baseY:v.y,top:H,left:ad,height:ae,width:ac,speed:ah,verticalSpeed:ab,horizontalSpeed:aa,verticalScrollAxis:Z,horizontalScrollAxis:X,style:ai,transform:K,zindex:F,min:B,max:Y,minX:W,maxX:J,minY:G,maxY:d})}b();j&&(window.addEventListener("resize",I),j=!1,o())},i=function(){var f=P,g=O;P=V.options.wrapper?V.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;O=V.options.wrapper?V.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset;V.options.relativeToWrapper&&(P=((document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset)-V.options.wrapper.offsetTop);return f!=P&&V.options.vertical||g!=O&&V.options.horizontal?!0:!1},c=function(n,p,h,m,k){var l={};n=100*(k?k:h)*(1-n);p=100*(m?m:h)*(1-p);l.x=V.options.round?Math.round(n):Math.round(100*n)/100;l.y=V.options.round?Math.round(p):Math.round(100*p)/100;return l},R=function(){window.removeEventListener("resize",R);window.removeEventListener("orientationchange",R);(V.options.wrapper?V.options.wrapper:window).removeEventListener("scroll",R);(V.options.wrapper?V.options.wrapper:document).removeEventListener("touchmove",R);M=L(o)},o=function(){i()&&!1===j?(b(),M=L(o)):(M=null,window.addEventListener("resize",R),window.addEventListener("orientationchange",R),(V.options.wrapper?V.options.wrapper:window).addEventListener("scroll",R,e?{passive:!0}:!1),(V.options.wrapper?V.options.wrapper:document).addEventListener("touchmove",R,e?{passive:!0}:!1))},b=function(){for(var k,m=0;m<V.elems.length;m++){var d=U[m].verticalScrollAxis.toLowerCase(),l=U[m].horizontalScrollAxis.toLowerCase();k=-1!=d.indexOf("x")?P:0;d=-1!=d.indexOf("y")?P:0;var h=-1!=l.indexOf("x")?O:0;l=-1!=l.indexOf("y")?O:0;k=c((k+h-U[m].left+N)/(U[m].width+N),(d+l-U[m].top+q)/(U[m].height+q),U[m].speed,U[m].verticalSpeed,U[m].horizontalSpeed);l=k.y-U[m].baseY;d=k.x-U[m].baseX;null!==U[m].min&&(V.options.vertical&&!V.options.horizontal&&(l=l<=U[m].min?U[m].min:l),V.options.horizontal&&!V.options.vertical&&(d=d<=U[m].min?U[m].min:d));null!=U[m].minY&&(l=l<=U[m].minY?U[m].minY:l);null!=U[m].minX&&(d=d<=U[m].minX?U[m].minX:d);null!==U[m].max&&(V.options.vertical&&!V.options.horizontal&&(l=l>=U[m].max?U[m].max:l),V.options.horizontal&&!V.options.vertical&&(d=d>=U[m].max?U[m].max:d));null!=U[m].maxY&&(l=l>=U[m].maxY?U[m].maxY:l);null!=U[m].maxX&&(d=d>=U[m].maxX?U[m].maxX:d);V.elems[m].style[t]="translate3d("+(V.options.horizontal?d:"0")+"px,"+(V.options.vertical?l:"0")+"px,"+U[m].zindex+"px) "+U[m].transform}V.options.callback(k)};V.destroy=function(){for(var d=0;d<V.elems.length;d++){V.elems[d].style.cssText=U[d].style}j||(window.removeEventListener("resize",I),j=!0);y(M);M=null};I();V.refresh=I;return V}console.warn("Rellax: The elements you're trying to select don't exist.")};return a});